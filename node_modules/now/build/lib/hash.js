"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function hash(e){return(0,_crypto.createHash)("sha1").update(e).digest("hex")}Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise),_map=require("babel-runtime/core-js/map"),_map2=_interopRequireDefault(_map),_asyncToGenerator2=require("babel-runtime/helpers/asyncToGenerator"),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_crypto=require("crypto"),_fsPromise=require("fs-promise");exports["default"]=function(){function e(e){return r.apply(this,arguments)}var r=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function t(e){var r,a=this;return _regenerator2["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new _map2["default"],t.next=3,_promise2["default"].all(e.map(function(){var e=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function t(e){var n,u,o;return _regenerator2["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,_fsPromise.readFile)(e);case 2:n=t.sent,u=hash(n),o=r.get(u),o?o.names.push(e):r.set(hash(n),{names:[e],data:n});case 6:case"end":return t.stop()}},t,a)}));return function(r){return e.apply(this,arguments)}}()));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return e}();